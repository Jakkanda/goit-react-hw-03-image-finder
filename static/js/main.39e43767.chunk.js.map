{"version":3,"sources":["ImageGalleryItem/ImageGalleryItem.module.css","Modal/Modal.module.css","App.module.css","ImageGallery/ImageGallery.module.css","Button/Button.module.css","ImageGalleryItem/ImageGalleryItem.jsx","ImageGallery/ImageGallery.jsx","Searchbar/Searchbar.jsx","services/Pixabay.js","Button/Button.jsx","Modal/Modal.jsx","App.js","reportWebVitals.js","index.js","Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","item","onModalOpen","className","styled","id","onClick","src","webformatURL","alt","ImageGallery","images","map","Searchbar","state","query","handleInputChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","reset","SearchForm","this","type","autoComplete","autoFocus","placeholder","onChange","Component","client","axios","create","baseURL","responseType","key","searchString","page","a","get","response","data","hits","console","error","Button","Modal","onClose","Overlay","largeImageURL","App","isModal","currentItem","isLoading","formSubmit","onLoadMore","prevState","event","currentTarget","find","elem","parseInt","handleKeyDown","code","closeModal","prevProps","Pixabay","getImages","window","scrollTo","top","document","documentElement","scrollHeight","behavior","addEventListener","removeEventListener","length","color","height","width","timeout","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.39e43767.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1KFEm\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__3Vjli\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1K5VE\",\"Modal\":\"Modal_Modal__yM6eZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__29NEw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__oZJ20\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__PzS0C\"};","import React from 'react';\r\nimport styled from './ImageGalleryItem.module.css';\r\n\r\nexport function ImageGalleryItem({ item, onModalOpen }) {\r\n  return (\r\n    <li className={styled.ImageGalleryItem} id={item.id} onClick={onModalOpen}>\r\n      <img src={item.webformatURL} alt=\"\" className={styled['ImageGalleryItem-image']} />\r\n    </li>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { ImageGalleryItem } from '../ImageGalleryItem/ImageGalleryItem';\r\nimport styled from './ImageGallery.module.css';\r\n\r\nexport function ImageGallery({ images, onModalOpen }) {\r\n  return (\r\n    <ul className={styled.ImageGallery}>\r\n      {images.map(item => (\r\n        <ImageGalleryItem item={item} onModalOpen={onModalOpen} key={item.id} />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport styled from './Searchbar.module.css';\r\n\r\nexport class Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    this.setState({\r\n      query: e.target.value,\r\n    });\r\n  };\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state);\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ query: '' });\r\n  };\r\n  render() {\r\n    return (\r\n      <header className={styled.Searchbar}>\r\n        <form className={styled.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styled['SearchForm-button']}>\r\n            <span className={styled['SearchForm-button-label']}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styled['SearchForm-input']}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleInputChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import axios from 'axios';\r\n\r\nclass PixabayAPIService {\r\n  constructor() {\r\n    this.client = axios.create({\r\n      baseURL: 'https://pixabay.com/api',\r\n      responseType: 'json',\r\n    });\r\n    this.key = '21755043-d9575a6749b270eceb64a1173';\r\n  }\r\n  async getImages(searchString, page) {\r\n    try {\r\n      const response = await this.client\r\n        .get(`?q=${searchString}&page=${page}&key=${this.key}&image_type=photo&orientation=horizontal&per_page=12\r\n    `);\r\n      return response.data.hits;\r\n    } catch (error) {\r\n      console.error(error);\r\n      return [];\r\n    }\r\n  }\r\n}\r\n\r\nexport default new PixabayAPIService();\r\n","import React from 'react';\r\nimport styled from './Button.module.css';\r\n\r\nexport function Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" className={styled.Button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styled from './Modal.module.css';\r\n\r\nexport function Modal({ item, onClose }) {\r\n  return (\r\n    <div className={styled.Overlay} onClick={onClose}>\r\n      <div className={styled.Modal}>\r\n        <img src={item.largeImageURL} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\nimport styled from './App.module.css';\nimport { ImageGallery } from './ImageGallery/ImageGallery';\nimport { Searchbar } from './Searchbar/Searchbar';\nimport Pixabay from './services/Pixabay';\nimport { Button } from './Button/Button';\nimport { Modal } from './Modal/Modal';\nimport Loader from 'react-loader-spinner';\n\nclass App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    images: [],\n    isModal: false,\n    currentItem: {},\n    isLoading: false,\n  };\n\n  formSubmit = data => {\n    this.setState({ query: data.query });\n  };\n\n  async componentDidUpdate(prevProps, prevState) {\n    if (prevState !== this.state) {\n      if (prevState.query !== this.state.query) {\n        this.setState(prevState => ({ ...prevState, isLoading: true }));\n        const response = await Pixabay.getImages(\n          this.state.query,\n          this.state.page,\n        );\n\n        this.setState(prevState => ({\n          ...prevState,\n          images: response,\n          isLoading: false,\n        }));\n      }\n\n      if (prevState.page !== this.state.page) {\n        this.setState(prevState => ({ ...prevState, isLoading: true }));\n        const response = await Pixabay.getImages(\n          this.state.query,\n          this.state.page,\n        );\n\n        this.setState(prevState => ({\n          ...prevState,\n          images: [...prevState.images, ...response],\n          isLoading: false,\n        }));\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      }\n    }\n  }\n\n  onLoadMore = () => {\n    this.setState(prevState => ({ ...prevState, page: ++prevState.page }));\n  };\n\n  onModalOpen = event => {\n    const id = event.currentTarget.id;\n    const currentItem = this.state.images.find(\n      elem => elem.id === parseInt(id, 10),\n    );\n    this.setState(prevState => ({\n      ...prevState,\n      isModal: true,\n      currentItem,\n    }));\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.setState(prevState => ({\n        ...prevState,\n        isModal: false,\n      }));\n    }\n  };\n\n  closeModal = event => {\n    if (event.currentTarget === event.target) {\n      this.setState(prevState => ({\n        ...prevState,\n        isModal: false,\n      }));\n    }\n  };\n\n  render() {\n    return (\n      <div className={styled.App}>\n        <Searchbar onSubmit={this.formSubmit} />\n        <ImageGallery\n          images={this.state.images}\n          onModalOpen={this.onModalOpen}\n        />\n        {this.state.isModal && (\n          <Modal item={this.state.currentItem} onClose={this.closeModal} />\n        )}\n        {this.state.images.length > 1 && <Button onClick={this.onLoadMore} />}\n        {this.state.isLoading && (\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000} //3 secs\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"Searchbar_SearchForm__3F9Z8\",\"SearchForm-button\":\"Searchbar_SearchForm-button__1vmam\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__XEzFS\",\"SearchForm-input\":\"Searchbar_SearchForm-input__1VaCR\"};"],"sourceRoot":""}